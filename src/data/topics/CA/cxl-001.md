---
category: digital-service
certifications:
- computer-systems
difficulty: advanced
id: cxl-001
importance: 5
keywords:
- CXL
- Compute Express Link
- 메모리 확장
- 풀링
- 공유 메모리
- PCIe
relatedTopics:
- hbm-001
- pim-pnm-001
- cpu-architecture-001
subcategory: 고성능 인터페이스
subjectCategories:
- CA
- DS
title: CXL (Compute Express Link)
trends:
- 메모리 확장 및 공유 표준
- 데이터센터 아키텍처 변화
- AI/HPC 워크로드 최적화
---

# 정의
CXL(Compute Express Link)은 CPU, GPU, FPGA, PIM 등 다양한 프로세서 및 메모리 장치 간의 고속, 저지연 연결을 위한 새로운 인터페이스 표준입니다. PCIe(Peripheral Component Interconnect Express) 기반으로 개발되었으며, 메모리 풀링(Memory Pooling) 및 공유 메모리(Memory Sharing) 기능을 통해 이기종 컴퓨팅 환경에서 데이터 이동 병목 현상을 해결하고 메모리 효율성 및 시스템 성능을 극대화하는 것을 목표로 기술.

## 특징
- PCIe 기반: 기존 PCIe 물리 계층을 재활용하여 개발되었으므로, 새로운 하드웨어 인프라 구축 없이 기존 PCIe 환경에 통합이 용이합니다.
- 메모리 일관성 (Memory Coherency):
    - CPU와 CXL 장치 간에 메모리 일관성을 유지합니다. 이는 CXL 장치들이 CPU의 메모리에 직접 접근하거나, CPU 캐시와 일관된 상태를 유지할 수 있도록 합니다.
    - 데이터 복사 없이 공유 메모리를 사용하므로, 데이터 이동 병목 현상과 지연 시간을 획기적으로 줄입니다.
- 3가지 CXL 프로토콜:
    1.  CXL.io: PCIe 프로토콜과 동일하며, 기존 PCIe 장치와의 호환성 제공 (일반적인 I/O 통신).
    2.  CXL.cache: CXL 장치가 CPU의 메모리(또는 캐시)에 캐시 일관성을 유지하며 접근할 수 있도록 하는 프로토콜 (캐시된 데이터 공유).
    3.  CXL.mem: CPU가 CXL 장치에 연결된 메모리에 직접 접근할 수 있도록 하는 프로토콜 (메모리 확장, 풀링, 계층화).
- 활용 시나리오:
    - 메모리 확장 (Memory Expansion): CPU에 직접 연결된 DRAM 외에 CXL을 통해 더 많은 용량의 메모리를 연결하여 시스템의 총 메모리 용량을 증대. (예: 대규모 AI 모델 학습).
    - 메모리 풀링 (Memory Pooling): 여러 서버가 공유 메모리 풀에 동적으로 접근하여 메모리 자원을 효율적으로 할당 및 회수.
    - 메모리 공유 (Memory Sharing): CPU와 가속기(GPU, NPU)가 동일한 메모리 영역을 직접 공유하여 데이터 복사 없이 연산 수행.
    - 메모리 계층화 (Memory Tiering): 다양한 종류의 메모리(DRAM, PIM, 스토리지 클래스 메모리)를 CXL을 통해 연결하여 계층화된 메모리 시스템 구축.
- 기대 효과: AI, HPC, 빅데이터 분석 등 데이터 집약적인 워크로드의 성능 향상, 데이터센터의 메모리 자원 활용 효율 증대, TCO 절감.

## 동작원리
CXL은 3가지 프로토콜을 통해 CPU와 장치 간 통신을 지원합니다:

CXL.io 프로토콜
- PCIe 5.0 기반 I/O 프로토콜
- 기존 PCIe 장치와 호환성 유지
- 장치 초기화, 설정, 제어에 사용
- Non-coherent 트랜잭션 (일반 I/O)

CXL.cache 프로토콜
- 가속기(Device)가 CPU의 메모리를 캐싱
- Host-to-Device (H2D): CPU가 장치 메모리 접근
- Device-to-Host (D2H): 장치가 CPU 메모리 접근
- 캐시 일관성 유지 (Snoop 기반)
- 예시: GPU가 CPU 메모리를 직접 캐싱

CXL.mem 프로토콜
- CPU가 CXL 장치의 메모리를 직접 접근
- Memory Expander: CPU의 메모리 공간 확장
- Load/Store 명령어로 접근 (DMA 불필요)
- 주소 공간에 직접 매핑

메모리 풀링 동작
1) 여러 CXL 메모리 장치를 스위치에 연결
2) 각 서버가 필요에 따라 메모리 할당
3) Dynamic Capacity Device (DCD): 런타임 메모리 할당/해제
4) 메모리 활용률 향상 (Stranded Memory 해결)